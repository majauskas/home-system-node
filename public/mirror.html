<!DOCTYPE html>

<!-- <html manifest="cache.manifest"> -->
<!-- <html manifest="cache.manifest" type="text/cache-manifest"> -->
<html>
<head> 
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
	
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
	<link rel="apple-touch-icon" href="images/security.png"/>
	<link  rel="apple-touch-startup-image" href="images/security.png"/>		

	<link rel="stylesheet" href="jquery/jquery.mobile-1.4.5.min.css" />
	



	
		
	<link rel="stylesheet" href="css/main.css" />
	

	<script type="text/javascript" src="jquery/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="jquery/jquery.mobile-1.4.5.min.js"></script>

	
	<script type="text/javascript" src="jquery/jquery.tmpl.min.js"></script>
	<script type="text/javascript" src="js/socket.io.js"></script> 
	
	
	<script type="text/javascript" src="jquery/jquery.mobile.iscroll.js"></script>
    <script type="text/javascript" src="jquery/jquery.mobile.iscrollview.js"></script>
    <link rel="stylesheet" href="jquery/jquery.mobile.iscrollview.css"/>
    <link rel="stylesheet" href="jquery/jquery.mobile.iscrollview-pull.css"/>	

	<link rel="stylesheet" href="jquery/flatWeatherPlugin.css"/>
	<script type="text/javascript" src="jquery/jquery.flatWeatherPlugin.js"></script>


    
	<script type="text/javascript">
			$(function() {
				$("body>[data-role='panel']").panel().trigger( "create" );
// 				setTimeout(function() {
// 					UTILITY.keypad("Sicurezza violata! ", function(number) {
// 					});
// 				}, 1000)
			});
	</script>
	
	
	
	  <script type="text/javascript">
  $(document).ready(function() {

		//Setup the plugin, see readme for more examples
		var weather = $("#weather").flatWeatherPlugin({
		  location: "Gallarate", //city and region *required 
		  country: "Italia",         //country *required 
		  //optional:
		  api: "openweathermap", //default: openweathermap (openweathermap or yahoo)
		  apikey: "fcf9c61ad7b6a9e4ab008d562b736d3f",   //optional api key for openweather
		  view : "simple", //default: full (partial, full, simple, today or forecast)
		  displayCityNameOnly : true, //default: false (true/false) if you want to display only city name
		  forecast: 0, //default: 5 (0 -5) how many days you want forecast
		  render: true, //default: true (true/false) if you want plugin to generate markup
		  loadingAnimation: true //default: true (true/false) if you want plugin to show loading animation
		  //units : "metric" or "imperial" default: "auto"
		});

		setInterval(function() {
			weather.flatWeatherPlugin('fetchWeather').then(
					function(data){
						weather.flatWeatherPlugin('render', data);
					},function(data){
						weather.flatWeatherPlugin('error', data);
					}
			);
	 	}, 1000*60*5);
	  

	getTime();
	setInterval(function() {
		getTime();
	}, 1000*10);

	

	function getTime() {
		var monthNames = [ "Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio", "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre" ]; 
		var dayNames= ["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]
		
		var newDate = new Date();
		newDate.setDate(newDate.getDate());
		$('#clockDate').html(dayNames[newDate.getDay()] + " " + newDate.getDate() + ' ' + monthNames[newDate.getMonth()] + ' ' + newDate.getFullYear());
					
		var date = new Date();
		var hours = date.getHours();
		hours = ( hours < 10 ? "0" : "" ) + hours;
		var minutes = date.getMinutes();
		minutes = ( minutes < 10 ? "0" : "" ) + minutes;
	
		$("#clockTime").html(hours+":"+minutes);
	};


	$("#TEST-PAGE").on("click", "#btstartAvvisoallarme", function (event) {
		MyJavaInterface.startAvvisoallarme();
	});	

	$("#TEST-PAGE").on("click", "#btstopAvvisoallarme", function (event) {
		MyJavaInterface.stopAvvisoallarme();
	});	
	
  });


  function myCallbackFunction(dataString) {
	  var password = "";
		UTILITY.keypad(dataString, function(number) {
			password += number;
			if(password.indexOf("2244") > -1){
				password ="";
			}
		});
	  
	}
	
  </script>
	
</head>

	<body>


<div id="HOME-PAGE" data-role="page" class="ui-page-active" data-theme="g">


	
<div class="ui-content" style="padding: 5px"> 	
    <div class="ui-grid-a">
       <div class="ui-block-a" style="text-align:center; text-shadow: none; color: white;">
        <div id="weather" style="margin-left:50px"></div>

	  </div>
 	  <div class="ui-block-b">
 	  
				<table width="100%" style="border-collapse: collapse; text-align:center; margin-top:30px">
						<tr><td id="clockDate" style="font-size:16px; font-weight:normal; text-decoration:none; text-shadow: none; color: white"></td>
						</tr>				
						<tr>
							<td id="clockTime" style="font-size:76px; font-weight:lighter; text-decoration:none; text-shadow: none; color: white"></td>
						</tr>
				</table>       
       


	  </div>
    </div>
       


    

	</div>	 

</div>	 
</body></html>