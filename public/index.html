
<!DOCTYPE html>

<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="jquery/jquery.mobile-1.4.5.min.css" />
<link rel="stylesheet" href="css/main.css" />


<script type="text/javascript" src="jquery/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="jquery/jquery.mobile-1.4.5.min.js"></script>
<script type="text/javascript" src="jquery/jquery.tmpl.min.js"></script>
<script type="text/javascript" src="js/socket.io.js"></script> 

<script type="text/javascript" src="js/util.js" charset="iso-8859-1"></script>	
<script type="text/javascript" src="js/alarm.js" charset="iso-8859-1"></script>		

<script type="text/javascript">
		$(function() {
			$("body>[data-role='panel']").panel().trigger( "create" );
		});
</script>
	
</head>

	<body>


<div id="HOME-PAGE" data-role="page" class="ui-page-active">
	<div data-role="header" style="overflow:hidden;">
		<h1>Home</h1>
		<a href="#menu-panel" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-bars"></a>
	</div>
	
	<div role="main" class="ui-content" style="text-align: center;">
		<fieldset data-role="controlgroup" data-type="horizontal" id="controlgroup-alarm"></fieldset>
		<script id="template-controlgroup-alarm" type="text/x-jquery-tmpl">
				<input name="radio-choice-alarm-state" id="${_id}" value="${name}" type="radio">
		    	<label for="${_id}">${name}</label>
		</script>	
	</div>

</div> 


	 
		 
		 

<div id="SENSORI-WIFI-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#HOME-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-home"></a>
		<h1>Sensori Wifi</h1>
		<a href="#menu-panel" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-bars"></a>
	</div>
	<div data-role="main" class="ui-content" style="text-align: center;">
		<ul data-role="listview" data-inset="false" id="listview-wifi-sensors"></ul>	
		<script id="template-wifi-sensors" type="text/x-jquery-tmpl">
					<li data-icon='wifi' data='${target}' class="ui-nodisc-icon"><a>
						<h2><font style='white-space:normal;'>${name} - ${description}</font></h2>												
						<p class='ui-li-aside' style='text-align: center;'>{{if (isOpen == false)}}<font style='color:green;'>Chiuso</font></br>{{/if}}{{if (isOpen == true)}}<font style='color:red; font-weight: bold;'>Aperto</font></br>{{/if}}{{if (isBatteryLow == true)}}<img  src='images/Battery-Low-24-FF0000.png'>{{/if}}</p>
					</a></li>
		</script>
	</div>
	<div data-role="main" class="ui-content" style="text-align: center;">
		<a id="btSearchWifiSensors" class="ui-btn ui-icon-plus ui-btn-icon-left ui-btn-inline  ui-corner-all">Aggiungi Sensore</a>
	</div>
</div> 				


<div id="NEW-WIFI-SENSOR-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#SENSORI-WIFI-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Nuovo Sensore</h1>
	</div>
	<div class="ui-content">
        <div>
            <label data-inline="true" for="code">Code:</label>
			<input readonly name="code" id="code">
			<label for="binCode">Bin Code:</label>
			<input readonly type="text" name="binCode" id="binCode">
			<label for="name">Nome:</label>
			<input type="text" name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
        </div>
		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btWiFiSensorConferma" class="ui-btn ui-icon-check ui-btn-icon-left ui-btn-inline  ui-corner-all">Conferma</a>
		</div>
	</div>
</div> 	



<div id="EDIT-WIFI-SENSOR-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#SENSORI-WIFI-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Modifica Sensore</h1>
	</div>
	
	<div class="ui-content">

        <div>
            <label data-inline="true" for="code">Code:</label>
			<input readonly name="code" id="code">
			<label for="binCode">Bin Code:</label>
			<input readonly type="text" name="binCode" id="binCode">
			<label for="name">Nome:</label>
			<input type="text" name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
        </div>

		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btWiFiSensorDelete" class="ui-btn ui-icon-delete ui-btn-icon-left ui-btn-inline ui-corner-all">Elimina</a>
			<a id="btWiFiSensorConferma" class="ui-btn ui-icon-edit ui-btn-icon-left ui-btn-inline ui-corner-all">Conferma</a>
		</div>
	</div>
</div> 






<div id="AREAS-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#HOME-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-home"></a>
		<h1>Zone</h1>
		<a href="#menu-panel" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-bars"></a>
	</div>
	
	<div data-role="main" class="ui-content" style="text-align: center;">
		<ul data-role="listview" data-inset="false" id="listview-areas" class="ui-nodisc-icon"></ul>	
		<script id="template-areas" type="text/x-jquery-tmpl">
					<li data-icon='node' data='${target}'><a>
						<h2>${name}<font style='white-space:normal;font-weight:normal;'> - ${description}</font></h2>												
					</a></li>
		</script>

		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btAddNewArea" class="ui-btn ui-icon-plus ui-btn-icon-left ui-btn-inline  ui-corner-all">Nuova Zona</a>
		</div>
	</div>
</div>



<div id="NEW-AREA-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#AREAS-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Nuova Zona</h1>
	</div>
	
	<div class="ui-content">

        <div>
            <label data-inline="true" for="name">Nome:</label>
			<input name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
        </div>

		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btConferma" class="ui-btn ui-icon-check ui-btn-icon-left ui-btn-inline  ui-corner-all">Conferma</a>
		</div>
	</div>
</div> 

<div id="EDIT-AREA-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#AREAS-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Modifica Zona</h1>
		<a id="btAddSensorToArea" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-plus">Aggiungi sensore</a>
	</div>
	
	<div class="ui-content">

        <div>
            <label data-inline="true" for="name">Nome:</label>
			<input name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
        </div>

		<ul data-role="listview" data-inset="true" id="listview-area-sensors"></ul>	
		<script id="template-area-sensors" type="text/x-jquery-tmpl">
					<li data-icon='delete' data='${target}'><a>												
						<p>${name} - ${description}</p>
					</a></li>
		</script>
		<p></p>
		<div class="ui-content" style="text-align: center;">
			<a id="btDelete" class="ui-btn ui-icon-delete ui-btn-icon-left ui-btn-inline  ui-corner-all">Elimina</a>
			<a id="btConferma" class="ui-btn ui-icon-check ui-btn-icon-left ui-btn-inline  ui-corner-all">Conferma</a>
		</div>				
	</div>
	
	<div id="add-remove-sensors-panel" data-role="panel" data-display="overlay" data-position="right" data-position-fixed="true" data-theme="a">
		<ul data-role="listview" data-inset="false"  id="listview-sensors-for-area"></ul>	
		<script id="template-sensors-for-area" type="text/x-jquery-tmpl">
					<li data-icon='plus' data='${target}' ><a>
						<p>${name} - ${description}</p>
					</a></li>
		</script>		
 	</div> 	
 		
</div>


<div id="EVENTS-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#HOME-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-home"></a>
		<h1>Eventi</h1>
		<a href="#menu-panel" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-bars"></a>
	</div>
	
	<div data-role="main" class="ui-content" style="text-align: center;">
		<ul data-role="listview" data-inset="false" id="listview-events" class="ui-nodisc-icon"></ul>	
		<script id="template-events" type="text/x-jquery-tmpl">
					<li data-icon='{{if (device != null)}}wifi{{else}}none{{/if}}' class="ui-nodisc-icon"><a>
						<p>{{if (device != null)}} ${device.name} - ${device.description} {{else}} ${code} - ${binCode} {{/if}}</p>					
						<p>${date}</p>						
						{{if (device != null)}}
							<p class='ui-li-aside' style='text-align: center;'>
								{{if (device.isOpen == false)}}<font style='color:green;'>Chiudi</font></br>{{/if}}
								{{if (device.isOpen == true)}}<font style='color:red;'>&nbsp;&nbsp;Apri&nbsp;&nbsp;&nbsp;</font></br>{{/if}}
								{{if (device.isBatteryLow == true)}}<img  src='images/Battery-Low-24-FF0000.png'>{{/if}}
								{{if (device.isLock == true)}}<img  src='images/Lock-24-FF0000.png'>{{/if}}
								{{if (device.isLock == false)}}<img  src='images/Lock-Open-24-04C263.png'>{{/if}}
							</p>
						{{/if}}
					</a></li>
		</script>
	</div>
</div>

<!-- 						<p class='ui-li-aside' style='text-align: center;'> -->
<!-- 							{{if (isLock == true)}}<img  src='images/Lock-24-FF0000.png'>{{/if}}  -->
<!-- 							{{if (isLock == false)}}<img  src='images/Lock-Open-24-04C263.png'>{{/if}} -->
<!-- 						</p> -->

<div id="REMOTE-CONTROL-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#HOME-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-home"></a>
		<h1>Telecomandi</h1>
		<a href="#menu-panel" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-bars"></a>
	</div>
	<div data-role="main" class="ui-content" style="text-align: center;">
		<ul data-role="listview" data-inset="false" id="listview-remote-controls"></ul>	
		<script id="template-remote-controls" type="text/x-jquery-tmpl">
					<li data-icon='remote' data='${target}' class="ui-nodisc-icon"><a>
						<h2><font style='white-space:normal;'>${name} - ${description}</font></h2>												
					</a></li>
		</script>
	</div>
	<div data-role="main" class="ui-content" style="text-align: center;">
		<a id="btSearchRemoteControls" class="ui-btn ui-icon-plus ui-btn-icon-left ui-btn-inline  ui-corner-all">Aggiungi Telecomando</a>
	</div>
</div> 				


<div id="NEW-REMOTE-CONTROL-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#REMOTE-CONTROL-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Nuovo Telecomando</h1>
	</div>
	<div class="ui-content">
        <div>
            <label data-inline="true" for="code">Code:</label>
			<input readonly name="code" id="code">
			<label for="binCode">Bin Code:</label>
			<input readonly type="text" name="binCode" id="binCode">
			<label for="name">Nome:</label>
			<input type="text" name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
        </div>
		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btConferma" class="ui-btn ui-icon-check ui-btn-icon-left ui-btn-inline  ui-corner-all">Conferma</a>
		</div>
	</div>
</div> 


<div id="EDIT-REMOTE-CONTROL-PAGE" data-role="page">
	<div data-role="header" style="overflow:hidden;">
		<a href="#REMOTE-CONTROL-PAGE" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l"></a>
		<h1>Modifica Telecomando</h1>
		<a id="btAddZoneToRemoteControl" class="ui-btn ui-btn-right ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-plus"></a>
	</div>
	
	<div class="ui-content">

        <div>
            <label data-inline="true" for="code">Code:</label>
			<input readonly name="code" id="code">
			<label for="binCode">Bin Code:</label>
			<input readonly type="text" name="binCode" id="binCode">
			<label for="name">Nome:</label>
			<input type="text" name="name" id="name">
			<label for="description">Descrizione:</label>
			<input type="text" name="description" id="description">
			<label for="area">Area:</label>
			<input readonly type="text" name="area" id="area">			
        </div>

		<div data-role="main" class="ui-content" style="text-align: center;">
			<a id="btDelete" class="ui-btn ui-icon-delete ui-btn-icon-left ui-btn-inline ui-corner-all">Elimina</a>
			<a id="btConfirm" class="ui-btn ui-icon-edit ui-btn-icon-left ui-btn-inline ui-corner-all">Conferma</a>
		</div>
	</div>
	
	<div id="add-remove-areas-panel" data-role="panel" data-display="overlay" data-position="right" data-position-fixed="true" data-theme="a">
		<ul data-role="listview" data-inset="false" id="listview-areas-for-remote-control"></ul>	
		<script id="template-areas-for-remote-control" type="text/x-jquery-tmpl">
					<li data-icon='plus' data='${target}' ><a>
						<p>${name} - ${description}</p>
					</a></li>
		</script>		
 	</div> 	
	
</div> 






<div id="menu-panel" data-role="panel" data-position="right" data-display="overlay" data-theme="a">
	<ul data-role="listview" data-inset="false" class="ui-nodisc-icon">
		<li data-icon="wifi"><a href="#SENSORI-WIFI-PAGE">Sensori Wifi</a></li>
	    <li data-icon="node"><a href="#AREAS-PAGE">Zone</a></li>
	    <li data-icon="remote"><a href="#REMOTE-CONTROL-PAGE">Telecomandi</a></li>
	    <li data-icon="listbox"><a href="#EVENTS-PAGE">Eventi</a></li>
	    
	</ul>
</div> 
	
	</body>

</html>
